<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="theme-color" content="#e6f2ff">
    <title>Simon</title>
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #4a90e2;       /* Kr√§ftiges Blau */
            --secondary: #82b1ff;     /* Sanftes Hellblau */
            --bg-overlay: rgba(230, 244, 255, 0.4); /* Heller Schleier √ºber dem Bild */
            --card-bg: rgba(255, 255, 255, 0.75);   /* Milchglas Effekt */
            --text-main: #334e68;     /* Dunkles Blau-Grau f√ºr Lesbarkeit */
            --text-light: #829ab1;
            --shadow: 0 10px 25px rgba(74, 144, 226, 0.25); /* Blaue Schatten */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
            font-family: 'Quicksand', sans-serif;
            user-select: none;
        }

        body {
            background-color: #e6f2ff;
            /* Hintergrundbild mit hellem Overlay */
            background-image: linear-gradient(var(--bg-overlay), var(--bg-overlay)), url('bild.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: var(--text-main);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
        }

        /* --- HEARTS ANIMATION --- */
        .hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        .heart {
            position: absolute;
            color: rgba(74, 144, 226, 0.4); /* Blaue Herzen/Sterne */
            animation: floatUp linear infinite;
            filter: drop-shadow(0 0 5px white);
        }
        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0.5); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
        }

        /* --- SCREENS --- */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: opacity 0.5s ease;
            display: flex;
            flex-direction: column;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
            z-index: -10;
        }

        /* --- PIN SCREEN (Soft & Cute) --- */
        #pin-screen {
            z-index: 100;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            background: rgba(255, 255, 255, 0.4);
            align-items: center;
            justify-content: center;
        }

        .pin-wrapper {
            width: 100%;
            max-width: 320px;
            text-align: center;
            background: rgba(255,255,255,0.8);
            padding: 40px 20px;
            border-radius: 40px;
            box-shadow: var(--shadow);
            border: 2px solid white;
        }

        .pin-title {
            font-family: 'Pacifico', cursive;
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 20px;
            text-shadow: 2px 2px 0px white;
        }

        .pin-dots {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .pin-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #d9e8ff;
            border: 2px solid var(--primary);
            transition: 0.2s;
        }
        .pin-dot.filled { background: var(--primary); box-shadow: 0 0 10px var(--primary); }

        .numpad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            justify-items: center;
        }

        .key {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            background: white;
            font-size: 1.5rem;
            color: var(--primary);
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: transform 0.1s;
        }
        .key:active { transform: scale(0.9); background: #f0f6ff; }

        /* --- MAIN APP --- */
        #app-screen {
            z-index: 10;
            overflow-y: auto;
            padding: 20px;
            padding-top: 50px; 
        }

        .profile-header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }
        
        .avatar-container {
            display: inline-block;
            padding: 5px;
            background: white;
            border-radius: 50%;
            box-shadow: var(--shadow);
            margin-bottom: 10px;
        }

        .avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            object-fit: cover;
            display: block;
        }

        .greeting h1 {
            font-family: 'Pacifico', cursive;
            font-size: 2.8rem;
            color: var(--primary);
            text-shadow: 2px 2px 0px white;
            margin-bottom: -5px;
        }
        .greeting p {
            font-size: 0.9rem;
            color: var(--text-light);
            background: rgba(255,255,255,0.6);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
        }

        /* Widgets Styles */
        .widget {
            background: var(--card-bg);
            border: 2px solid white;
            border-radius: 25px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
        }

        .w-title {
            text-transform: uppercase;
            font-size: 0.8rem;
            color: var(--secondary);
            font-weight: bold;
            letter-spacing: 1px;
            margin-bottom: 15px;
            display: block;
            text-align: center;
        }

        /* Age Cubes */
        .age-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .age-box {
            background: white;
            border-radius: 15px;
            padding: 10px 5px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .age-val {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary);
            display: block;
        }
        .age-lbl { font-size: 0.7rem; color: var(--text-light); }

        /* Stats Rows */
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px dashed rgba(0,0,0,0.1);
            font-size: 1rem;
        }
        .stat-row:last-child { border: none; }
        .highlight { font-weight: 700; color: var(--primary); }

        /* Progress Bars */
        .event-box { margin-bottom: 20px; }
        .event-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.95rem;
            font-weight: 600;
        }
        .progress-track {
            height: 14px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.5);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }
        .progress-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 1.5s ease;
            background-size: 20px 20px;
            background-image: linear-gradient(45deg, rgba(255,255,255,.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.15) 50%, rgba(255,255,255,.15) 75%, transparent 75%, transparent);
            animation: stripes 1s linear infinite;
        }
        
        .fill-bday { background-color: #6eb6ff; }
        .fill-name { background-color: #92c4ff; }

        @keyframes stripes {
            from { background-position: 40px 0; }
            to { background-position: 0 0; }
        }

    </style>
</head>
<body>

    <div class="hearts-bg" id="bg-animation"></div>

    <div id="pin-screen" class="screen">
        <div class="pin-wrapper">
            <div class="pin-title">Simon üêª</div>
            
            <div class="pin-dots">
                <div class="pin-dot" id="d1"></div>
                <div class="pin-dot" id="d2"></div>
                <div class="pin-dot" id="d3"></div>
                <div class="pin-dot" id="d4"></div>
            </div>

            <div class="numpad">
                <div class="key" onclick="tapPin(1)">1</div>
                <div class="key" onclick="tapPin(2)">2</div>
                <div class="key" onclick="tapPin(3)">3</div>
                <div class="key" onclick="tapPin(4)">4</div>
                <div class="key" onclick="tapPin(5)">5</div>
                <div class="key" onclick="tapPin(6)">6</div>
                <div class="key" onclick="tapPin(7)">7</div>
                <div class="key" onclick="tapPin(8)">8</div>
                <div class="key" onclick="tapPin(9)">9</div>
                <div class="key" style="background:transparent; box-shadow:none;"></div>
                <div class="key" onclick="tapPin(0)">0</div>
                <div class="key" style="font-size:1.2rem; color: #90bbf0" onclick="delPin()">‚å´</div>
            </div>
        </div>
    </div>

    <div id="app-screen" class="screen hidden">
        
        <div class="profile-header">
            <div class="avatar-container">
                <img src="icon.png" class="avatar" alt="S">
            </div>
            <div class="greeting">
                <h1>Simon</h1>
                <p>Willkommen kleiner Schatz üíô</p>
            </div>
        </div>

        <div class="widget">
            <span class="w-title">‚ú® So gro√ü bin ich schon ‚ú®</span>
            <div class="age-grid">
                <div class="age-box"><span class="age-val" id="y">0</span><span class="age-lbl">Jahre</span></div>
                <div class="age-box"><span class="age-val" id="m">0</span><span class="age-lbl">Monate</span></div>
                <div class="age-box"><span class="age-val" id="w">0</span><span class="age-lbl">Wochen</span></div>
                <div class="age-box"><span class="age-val" id="d">0</span><span class="age-lbl">Tage</span></div>
            </div>
        </div>

        <div class="widget">
            <span class="w-title">üåü Meine Zeit auf Erden üåü</span>
            <div class="stat-row">
                <span>Gesamt Monate</span>
                <span class="highlight" id="total-m">0</span>
            </div>
            <div class="stat-row">
                <span>Gesamt Wochen</span>
                <span class="highlight" id="total-w">0</span>
            </div>
            <div class="stat-row">
                <span>Gesamt Tage</span>
                <span class="highlight" id="total-d">0</span>
            </div>
        </div>

        <div class="widget">
            <span class="w-title">üéâ Bald ist Party üéâ</span>
            
            <div class="event-box">
                <div class="event-header">
                    <span>üéÇ Geburtstag (20.02.)</span>
                    <span id="txt-bday" style="color:var(--primary)">...</span>
                </div>
                <div class="progress-track">
                    <div class="progress-fill fill-bday" id="bar-bday" style="width:0%"></div>
                </div>
            </div>

            <div class="event-box" style="margin-bottom:0;">
                <div class="event-header">
                    <span>‚≠ê Namenstag (28.10.)</span>
                    <span id="txt-name" style="color:var(--secondary)">...</span>
                </div>
                <div class="progress-track">
                    <div class="progress-fill fill-name" id="bar-name" style="width:0%"></div>
                </div>
            </div>
        </div>

        <div class="widget">
            <span class="w-title">üë∂ Das Baby-Buch üë∂</span>
            <div class="stat-row">
                <span>üìç Geburtsort</span>
                <span class="highlight">Innsbruck</span>
            </div>
            <div class="stat-row">
                <span>‚è∞ Uhrzeit</span>
                <span class="highlight">19:38 Uhr</span>
            </div>
            <div class="stat-row">
                <span>‚öñÔ∏è Startgewicht</span>
                <span class="highlight">2990g</span>
            </div>
            <div class="stat-row">
                <span>üìè Gr√∂√üe</span>
                <span class="highlight">51cm</span>
            </div>
        </div>
        
        <div style="height:60px"></div>
    </div>

    <script>
        // --- CONFIG ---
        const CONFIG = {
            pin: "2002",
            dob: new Date("2026-02-20T19:38:00"), 
            nameday: { d: 28, m: 10 } // 28. Oktober
        };

        // --- PIN LOGIC ---
        let pinBuffer = "";
        
        function tapPin(n) {
            if(pinBuffer.length < 4) {
                pinBuffer += n;
                updatePinUI();
                if(pinBuffer.length === 4) {
                    setTimeout(checkPin, 200);
                }
            }
        }

        function delPin() {
            pinBuffer = pinBuffer.slice(0, -1);
            updatePinUI();
        }

        function updatePinUI() {
            for(let i=1; i<=4; i++) {
                const el = document.getElementById('d'+i);
                if(i <= pinBuffer.length) el.classList.add('filled');
                else el.classList.remove('filled');
            }
        }

        function checkPin() {
            if(pinBuffer === CONFIG.pin) {
                document.getElementById('pin-screen').classList.add('hidden');
                document.getElementById('app-screen').classList.remove('hidden');
                initApp();
            } else {
                // Wiggle Animation
                const wrap = document.querySelector('.pin-wrapper');
                wrap.style.transform = "translateX(15px)";
                setTimeout(() => wrap.style.transform = "translateX(-15px)", 100);
                setTimeout(() => wrap.style.transform = "translateX(0)", 200);
                pinBuffer = "";
                updatePinUI();
            }
        }

        // --- APP LOGIC ---
        function initApp() {
            createHearts();
            updateLoop();
            setInterval(updateLoop, 1000);
        }

        function updateLoop() {
            const now = new Date();
            const birth = CONFIG.dob;

            // 1. Alter (Exakt)
            let years = now.getFullYear() - birth.getFullYear();
            let months = now.getMonth() - birth.getMonth();
            let days = now.getDate() - birth.getDate();

            if (days < 0) {
                months--;
                days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
            }
            if (months < 0) {
                years--;
                months += 12;
            }

            let restWeeks = Math.floor(days / 7);
            let restDays = days % 7;

            document.getElementById('y').innerText = years;
            document.getElementById('m').innerText = months;
            document.getElementById('w').innerText = restWeeks;
            document.getElementById('d').innerText = restDays;

            // 2. Statistik (Gesamt)
            const diffTime = now - birth;
            const totalDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));
            const totalWeeks = Math.floor(totalDays / 7);
            let totalMonths = (years * 12) + months;

            document.getElementById('total-m').innerText = totalMonths.toLocaleString();
            document.getElementById('total-w').innerText = totalWeeks.toLocaleString();
            document.getElementById('total-d').innerText = totalDays.toLocaleString();

            // 3. Progress Bars
            updateProgress(now, birth.getDate(), birth.getMonth(), 'txt-bday', 'bar-bday');
            updateProgress(now, CONFIG.nameday.d, CONFIG.nameday.m - 1, 'txt-name', 'bar-name');
        }

        function updateProgress(now, d, m, txtId, barId) {
            let target = new Date(now.getFullYear(), m, d);
            let lastTarget = new Date(now.getFullYear() - 1, m, d);
            
            if (now > target && now.getDate() !== target.getDate()) {
                target.setFullYear(now.getFullYear() + 1);
                lastTarget.setFullYear(now.getFullYear());
            }

            const totalSpan = target - lastTarget;
            const elapsed = now - lastTarget;
            let percent = (elapsed / totalSpan) * 100;

            const diffMs = target - now;
            const daysLeft = Math.ceil(diffMs / (1000 * 60 * 60 * 24));
            
            let txt = daysLeft + " Tage";
            if (daysLeft <= 0 || (now.getDate() === d && now.getMonth() === m)) {
                txt = "HEUTE! ü•≥";
                percent = 100;
            }

            document.getElementById(txtId).innerText = txt;
            document.getElementById(barId).style.width = percent + "%";
        }

        // --- HEARTS / STARS ---
        function createHearts() {
            const container = document.getElementById('bg-animation');
            for(let i=0; i<12; i++) spawnHeart(container);
            setInterval(() => spawnHeart(container), 2500);
        }

        function spawnHeart(container) {
            const h = document.createElement('div');
            h.classList.add('heart');
            h.innerText = Math.random() > 0.5 ? 'üíô' : '‚≠ê';
            h.style.left = Math.random() * 100 + "vw";
            h.style.animationDuration = (Math.random() * 5 + 6) + "s"; 
            h.style.fontSize = (Math.random() * 20 + 15) + "px";
            container.appendChild(h);
            setTimeout(() => h.remove(), 11000);
        }

    </script>
</body>
</html>
