<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Johanna</title>
    
    <link rel="apple-touch-icon" href="icon.png">
    <link rel="icon" type="image/png" href="icon.png">

    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600&family=Nunito:wght@800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #ff6b81;
            --primary-glow: #ff8fa3;
            --bg-overlay: rgba(60, 20, 40, 0.6); /* Dunkleres Overlay f√ºr Lesbarkeit */
            --glass: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.3);
            --text-glow: 0 0 10px rgba(255, 107, 129, 0.8);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background: linear-gradient(135deg, var(--bg-overlay), var(--bg-overlay)), url('bild.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            height: 100vh;
            overflow: hidden;
        }

        /* --- Hintergrund Animation --- */
        .hearts {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .heart-particle {
            position: absolute;
            color: rgba(255, 192, 203, 0.4);
            animation: float 6s infinite linear;
            bottom: -20px;
        }

        @keyframes float {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            20% { opacity: 0.8; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* --- Screens --- */
        #pin-screen, #app-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: opacity 0.4s;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
            z-index: -10;
        }

        /* --- PIN Screen Style --- */
        #pin-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(10px);
            background: rgba(0,0,0,0.3);
        }

        .pin-box {
            background: rgba(255, 255, 255, 0.2);
            padding: 30px;
            border-radius: 25px;
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .pin-dots {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
        }

        .dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transition: 0.2s;
        }
        .dot.active { background: var(--primary); box-shadow: 0 0 10px var(--primary); }

        .numpad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .num-btn {
            background: rgba(255,255,255,0.15);
            border: none;
            color: white;
            font-size: 1.5rem;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
        }
        .num-btn:active { background: rgba(255,255,255,0.4); }

        /* --- Main App Style --- */
        #app-screen {
            overflow-y: auto; /* WICHTIG: Scrollbar erlauben */
            padding: 20px;
            padding-bottom: 50px;
            z-index: 10;
        }

        .header {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 20px;
            animation: fadeIn 1s ease;
        }

        .header h1 {
            font-family: 'Nunito', sans-serif;
            font-size: 2.8rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
        }

        /* Widgets */
        .widget {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            backdrop-filter: blur(12px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            animation: slideUp 0.6s ease;
        }

        .widget-title {
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 1.5px;
            margin-bottom: 10px;
            opacity: 0.8;
            border-bottom: 1px solid rgba(255,255,255,0.2);
            padding-bottom: 5px;
            display: block;
        }

        /* Age Grid */
        .age-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .age-item {
            text-align: center;
        }
        .age-num {
            font-size: 2rem;
            font-weight: 700;
            font-family: 'Nunito', sans-serif;
            text-shadow: 0 0 15px var(--primary);
        }
        .age-label {
            font-size: 0.8rem;
        }

        /* Full Details */
        .details-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.95rem;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
            padding-bottom: 8px;
        }
        .details-row:last-child { border: none; }
        .highlight { font-weight: bold; color: var(--primary-glow); }

        /* Countdown Bar */
        .progress-container {
            height: 12px;
            background: rgba(0,0,0,0.3);
            border-radius: 6px;
            overflow: hidden;
            margin-top: 10px;
        }
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
            width: 0%;
            transition: width 1s ease-in-out;
            box-shadow: 0 0 10px #ff9a9e;
        }

        /* Animation Keyframes */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    </style>
</head>
<body>

    <div class="hearts" id="hearts"></div>

    <div id="pin-screen">
        <div class="pin-box">
            <h2 style="margin-bottom: 15px;">Johanna üîí</h2>
            <div class="pin-dots" id="pin-dots">
                <div class="dot"></div><div class="dot"></div><div class="dot"></div><div class="dot"></div>
            </div>
            <div class="numpad">
                <button class="num-btn" onclick="addPin(1)">1</button>
                <button class="num-btn" onclick="addPin(2)">2</button>
                <button class="num-btn" onclick="addPin(3)">3</button>
                <button class="num-btn" onclick="addPin(4)">4</button>
                <button class="num-btn" onclick="addPin(5)">5</button>
                <button class="num-btn" onclick="addPin(6)">6</button>
                <button class="num-btn" onclick="addPin(7)">7</button>
                <button class="num-btn" onclick="addPin(8)">8</button>
                <button class="num-btn" onclick="addPin(9)">9</button>
                <div class="num-btn" style="background:transparent"></div>
                <button class="num-btn" onclick="addPin(0)">0</button>
                <button class="num-btn" style="font-size:1rem" onclick="clearPin()">C</button>
            </div>
        </div>
    </div>

    <div id="app-screen" class="hidden">
        
        <div class="header">
            <img src="icon.png" style="width:80px; height:80px; border-radius:20px; border: 2px solid rgba(255,255,255,0.5); box-shadow: 0 5px 20px rgba(0,0,0,0.4);">
            <h1>Johanna</h1>
            <div class="subtitle">Willkommen in meiner Welt</div>
        </div>

        <div class="widget">
            <span class="widget-title">Ich bin auf der Welt seit...</span>
            <div class="age-grid">
                <div class="age-item">
                    <div class="age-num" id="age-years">0</div>
                    <div class="age-label">Jahre</div>
                </div>
                <div class="age-item">
                    <div class="age-num" id="age-months">0</div>
                    <div class="age-label">Monate</div>
                </div>
                <div class="age-item">
                    <div class="age-num" id="age-weeks">0</div>
                    <div class="age-label">Wochen</div>
                </div>
                <div class="age-item">
                    <div class="age-num" id="age-days">0</div>
                    <div class="age-label">Tage</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 15px; font-size: 0.9rem; opacity: 0.8;">
                Gesamt: <span id="total-days" class="highlight">0</span> Tage
            </div>
        </div>

        <div class="widget">
            <span class="widget-title">N√§chste Party ü•≥</span>
            
            <div style="margin-bottom: 20px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                    <span>üéÇ Geburtstag (05.11.)</span>
                    <span id="bday-days" class="highlight">...</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="bday-bar"></div>
                </div>
            </div>

            <div>
                <div style="display:flex; justify-content:space-between;">
                    <span>üå∏ Namenstag (30.05.)</span>
                    <span id="nameday-days" class="highlight">...</span>
                </div>
            </div>
        </div>

        <div class="widget">
            <span class="widget-title">Meine Daten</span>
            <div class="details-row">
                <span>üìç Geburtsort</span>
                <span class="highlight">Innsbruck</span>
            </div>
            <div class="details-row">
                <span>‚öñÔ∏è Startgewicht</span>
                <span class="highlight">3060g</span>
            </div>
            <div class="details-row">
                <span>üë∂ Sternzeichen</span>
                <span class="highlight">Skorpion</span>
            </div>
            <div class="details-row">
                <span>‚è∞ Geburtszeit</span>
                <span class="highlight">Unbekannt</span> </div>
        </div>

    </div>

    <script>
        // --- CONFIG ---
        const CONFIG = {
            pin: "0511",
            dob: new Date("2025-11-05T00:00:00"),
            nameday: { day: 30, month: 5 } // 30. Mai
        };

        // --- PIN LOGIC (Smartphone Style) ---
        let currentPin = "";
        const dots = document.querySelectorAll('.dot');

        function addPin(num) {
            if (currentPin.length < 4) {
                currentPin += num;
                updateDots();
                if (currentPin.length === 4) {
                    setTimeout(checkPin, 300);
                }
            }
        }

        function clearPin() {
            currentPin = "";
            updateDots();
        }

        function updateDots() {
            dots.forEach((dot, index) => {
                if (index < currentPin.length) dot.classList.add('active');
                else dot.classList.remove('active');
            });
        }

        function checkPin() {
            if (currentPin === CONFIG.pin) {
                document.getElementById('pin-screen').classList.add('hidden');
                document.getElementById('app-screen').classList.remove('hidden');
                startApp();
            } else {
                // Shake Animation bei Fehler
                const box = document.querySelector('.pin-box');
                box.style.transform = "translateX(10px)";
                setTimeout(() => box.style.transform = "translateX(-10px)", 100);
                setTimeout(() => box.style.transform = "translateX(0)", 200);
                clearPin();
            }
        }

        // --- APP LOGIC ---
        function startApp() {
            updateAll();
            setInterval(updateAll, 1000);
            createHearts();
        }

        function updateAll() {
            const now = new Date();
            const birth = CONFIG.dob;

            // 1. Alter berechnen (Jahre, Monate, Tage exakt)
            let years = now.getFullYear() - birth.getFullYear();
            let months = now.getMonth() - birth.getMonth();
            let days = now.getDate() - birth.getDate();

            if (days < 0) {
                months--;
                // Tage im Vormonat ermitteln
                days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
            }
            if (months < 0) {
                years--;
                months += 12;
            }

            // Wochen und Resttage f√ºr die Anzeige
            // Einfache Ann√§herung f√ºr "Wochen"-Anzeige im Grid:
            // Wir nehmen die Tage des laufenden Monatsrestes f√ºr die Wochenanzeige oder
            // berechnen totale Wochen seit Geburt?
            // User wollte: "Tage, Woche, Monate, Jahre".
            // Interpretation: Das Grid zeigt die Komponenten des Alters.
            // Die "Wochen" sind hier etwas tricky in Kombination mit Monaten. 
            // L√∂sung: Wir zeigen Jahre, Monate, und den Rest in Wochen + Tagen.
            
            let weeks = Math.floor(days / 7);
            let restDays = days % 7;

            // UI Update Alter
            document.getElementById('age-years').innerText = years;
            document.getElementById('age-months').innerText = months;
            document.getElementById('age-weeks').innerText = weeks;
            document.getElementById('age-days').innerText = restDays;

            // Gesamttage
            const diffTime = Math.abs(now - birth);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
            document.getElementById('total-days').innerText = diffDays.toLocaleString();


            // 2. N√§chster Geburtstag Countdown
            let nextBday = new Date(birth);
            nextBday.setFullYear(now.getFullYear());
            if (now > nextBday) nextBday.setFullYear(now.getFullYear() + 1);
            
            const diffBday = nextBday - now;
            const daysToBday = Math.floor(diffBday / (1000 * 60 * 60 * 24));
            
            document.getElementById('bday-days').innerText = daysToBday === 0 ? "HEUTE! üéâ" : daysToBday + " Tage";
            
            // Progress Bar (1 Jahr = 100%)
            const percent = 100 - ((daysToBday / 365) * 100);
            document.getElementById('bday-bar').style.width = percent + "%";


            // 3. Namenstag Countdown (30.05.)
            let nextNameDay = new Date(now.getFullYear(), CONFIG.nameday.month - 1, CONFIG.nameday.day);
            // Wenn dieses Jahr schon vorbei, dann n√§chstes Jahr
            if (now > nextNameDay && now.getDate() !== nextNameDay.getDate()) {
                nextNameDay.setFullYear(now.getFullYear() + 1);
            }

            const diffName = nextNameDay - now;
            let daysToName = Math.ceil(diffName / (1000 * 60 * 60 * 24));

            // Fix f√ºr "Heute" (Manchmal ergibt math ceil -0 oder 0 je nach uhrzeit)
            if (now.getDate() == CONFIG.nameday.day && now.getMonth() == (CONFIG.nameday.month -1)) {
                 daysToName = 0;
            }

            document.getElementById('nameday-days').innerText = daysToName === 0 ? "Heute! üå∏" : daysToName + " Tage";
        }

        // --- BACKGROUND HEARTS ---
        function createHearts() {
            const container = document.getElementById('hearts');
            setInterval(() => {
                const el = document.createElement('div');
                el.classList.add('heart-particle');
                el.innerHTML = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'ü§ç';
                el.style.left = Math.random() * 100 + "vw";
                el.style.fontSize = (Math.random() * 20 + 10) + "px";
                el.style.animationDuration = (Math.random() * 3 + 4) + "s";
                container.appendChild(el);
                setTimeout(() => el.remove(), 7000);
            }, 500);
        }

    </script>
</body>
</html>